<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Terraform in five</title>

        <script src="js/typewriter.js" defer></script>
        <script src="js/main.js" defer></script>

        <style>
            :root {
                --default-border: 1px;
                --max-main-width: calc(790px - calc(var(--default-border) * 2));
                --min-main-width: calc(var(--max-main-width) / 2);
            }

            @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400&display=swap');
            @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;600&display=swap');

            body {
                margin: 0;
                padding: 0;

                display: flex;
                align-items: center;
                justify-content: center;
                min-height: 100vh;

                font-family: 'Roboto', sans-serif;
            }

            main {
                max-width: var(--max-main-width);
                min-width: var(--min-main-width);
                display: flex;
                flex-wrap: wrap;
                align-items: center;
                justify-content: center;

                /* Delete these items */
                /* border: var(--default-border) lightblue solid; */
            }

            section {
                width: calc(var(--min-main-width) - calc(var(--default-border)*4));
                max-width: calc(var(--min-main-width) - calc(var(--default-border)*4));
                aspect-ratio: 9/16;

                display: flex;
                align-items: center;
                justify-content: center;

                /* display: grid;
                grid-template-rows: 1fr 2fr 1fr; */

                /* Delete these after work*/
                /* border: var(--default-border) white solid; */
                /* background-color: lightcyan; */
            }

            section[is-visible="false"] {
                display: none;
            }

            .grid-row {
                background-color: lightcyan;
                border: var(--default-border) red solid;
            }

            .card-wrapper {
                width: 350px;
                height: 90%;
                background-color: white;
                box-shadow: 0px 2px 4px #DBDBDC;
                animation: moveDownInitial 10ms ease-in-out 500ms normal forwards;
            }

            .card-header {
                background-color: #DBDBDC;
                width: auto;
                height: 80px;
                display: flex;
                align-items: center;
                font-size: 18px;
                font-weight: 700;
                text-transform: uppercase;
            }

            .card-header p {
                margin-left: 20px;
            }

            .card-command {
                margin-left: 10px;
                width: auto;
                height: 80px;
                display: flex;
                font-size: 36px;
                align-items: center;
            }

            .card-menu {
                height: 80px;
                display: flex;
                align-items: center;
                margin-left: 10px;
            }

            .menu-item {
                display: flex;
                width: calc(50% - 5px);
                height: 50px;
                justify-content: center;
                align-items: center;
                font-size: 18px;
                font-weight: 700;
                text-transform: uppercase;
            }

            .card-menu .active {
                font-weight: 400;
                color: white;
                background-color: #343536;
                cursor: auto;
            }

            .card-menu .not-active {
                font-weight: 100;
                border-bottom: 1px solid #DBDBDC;
            }

            .card-menu .not-active:hover {
                background-color: #DBDBDC;
                font-weight: 400;
                cursor: pointer;
            }

            .card-overview-text {
                /* opacity: 0.0; */
            }

            .card-overview-text p {
                padding: 1px;
                font-size: 18px;
                margin-top: 25px;
                margin-left: 10px;
                margin-right: 10px;

                line-height: 1.25;
                color: #727274;
            }

            .visible {
                display: block;
            }

            .invisible {
                display: none;
            }

            .console {
                width: 350px;
                height: 90%;
                display: flex;
                align-content: center;
                flex-direction: column;
                border-radius: 5px;
                background-image:
                    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cg fill='%222' fill-opacity='0.1'%3E%3Cpath fill-rule='evenodd' d='M0 0h5v5H0V0zm5 5h5v5H5V5z'/%3E%3C/g%3E%3C/svg%3E"),
                    linear-gradient(to right, #1d1e1f, #343536);
                position: relative;
                box-shadow: 0px 2px 4px #DBDBDC;
            }

            .terminal {
                display: flex;
                flex-direction: column;
                height: 300px;
            }

            .terminal::-webkit-scrollbar {
                width: 10px;
                height: 10px;
            }

            .terminal::-webkit-scrollbar-thumb {
                background: #201c29;
                border-radius: 10px;
                box-shadow: 0px 2px 4px #DBDBDC;
            }

            .terminal-decorator {
                display: flex;
                align-items: center;
                justify-content: flex-end;
                height: 40px;
                background-image:
                    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cg fill='%222' fill-opacity='0.3'%3E%3Cpath fill-rule='evenodd' d='M0 0h5v5H0V0zm5 5h5v5H5V5z'/%3E%3C/g%3E%3C/svg%3E"),
                    linear-gradient(to right, #1d1e1f, #343536);
                border-top-left-radius: 10px;
                border-top-right-radius: 10px;
                /* border-top: 2rem solid var(--dark_accent); */
                /* border-bottom: 2rem solid var(--dark_accent); */
                border-bottom: 1px solid #fbfaf5;
            }

            .play {
                font-size: 24px;
                color: rgba(255, 255, 255, 0.75);
                box-sizing: border-box;
                transition: all 0.2s;
                display: inline-block;
                border-left: 1em solid #fbfaf5;
                border-top: 0.5em solid transparent;
                border-bottom: 0.5em solid transparent;
                background-color: transparent;
                cursor: pointer;
                margin-right: 16px;
            }

            code {
                font-family: 'Roboto Mono', sans-serif;
                color: #fbfaf5;
                margin-left: 2rem;
                display: flex;
            }

            .bash {
                margin-left: 2rem;
                white-space: nowrap;
            }

            .json {
                margin-left: 2rem;
                color: #62d4dc;
            }
        </style>
    </head>

    <body>

        <main>
            <section is-visible="true">
                <div class="card-wrapper">
                    <div class="card-header">
                        <p>Manage Infrastructure</p>
                    </div>
                    <div class="card-command">
                        <img src="terminal.svg" />
                        &nbsp;
                        terraform plan
                    </div>
                    <div class="card-menu">
                        <div class="menu-item active">Overview</div>
                        <div class="menu-item not-active">Options</div>
                    </div>
                    <div class="card-overview-text visible">
                        <p>
                            The <span class="code">terraform plan</span> command creates an execution plan, which lets
                            you
                            preview the changes that Terraform can apply to your infrastructure.
                        </p>

                        <p>
                            The plan command alone does not actually carry out the proposed changes. You can use this
                            command to
                            check whether the proposed changes match what you expect before you apply the changes or
                            share
                            the changes with your team for broader review.
                        </p>
                    </div>
                    <div class="card-overview-text invisible">
                        <p>
                            <strong>Destroy mode</strong>: creates a plan to destroy all remote objects that currently
                            exist, leaving an empty Terraform state. Destroy mode can be useful for situations like
                            transient
                            development environments, where the managed objects cease to be useful once the development
                            task is complete.
                        </p>

                        <p>
                            <strong>Refresh-only mode</strong>: creates a plan only to update the Terraform state and
                            root
                            module output values to match changes made to remote objects outside of Terraform. This is
                            useful for changes outside of the usual
                            workflows.
                        </p>
                    </div>
                </div>
            </section>


            <section is-visible="true">
                <div class="console">
                    <div class="terminal-decorator">
                        <div class="play"></div>
                    </div>
                    <div class="terminal" id="terminal">
                        <div class="command" id="command">
                            <pre><code class="bash" id="step01">
                                    terraform plan
                                </code></pre>
                        </div>
                        <div class="response" id="response">
                            <pre><code class="json" id="step02">
                                    An execution plan has been generated
                                    and is shown below. Terraform will
                                    perform the following actions:

                                    # aws_vpc.main will be created
                                    + resource "aws_vpc" "main" {
                                    + arn = (known after apply)
                                    + cidr_block = "10.0.0.0/16"
                                    ...
                                    + instance_tenancy = "dedicated"
                                    }
                                </code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section is-visible="false">
                <div class="grid-row">1</div>
                <div class="grid-row">2</div>
                <div class="grid-row">3</div>
            </section>
            <section is-visible="false">
                <div class="grid-row">1</div>
                <div class="grid-row">2</div>
                <div class="grid-row">3</div>
            </section>
            <section is-visible="false">
                <div class="grid-row">1</div>
                <div class="grid-row">2</div>
                <div class="grid-row">3</div>
            </section>
            <section is-visible="false">
                <div class="grid-row">1</div>
                <div class="grid-row">2</div>
                <div class="grid-row">3</div>
            </section>
        </main>

        <script>
            let console_display = {};

            document.querySelectorAll(".bash").forEach((item) => {
                console_display[item.id] = item.innerHTML;
                item.innerHTML = "";
            });

            document.querySelectorAll(".json").forEach((item) => {
                console_display[item.id] = item.innerHTML;
                item.innerHTML = "";
            });

            const term_console = document.querySelector(".play")
            term_console.addEventListener("click", () => {

                playStage("step01", "step02");

                // const interactive_diagram = document.getElementById("interactive-diagram")
                // interactive_diagram.style.animation = "fadeIn 1s linear 4s normal forwards"
            })


        </script>

    </body>

</html>